language: android
sudo: required
jdk: oraclejdk8

env:
  global:
    - secure: o1jm1eSLQmrn/4uHReMmRjoz1XgkLZ2dC1+1MPyGKjqvn0N6mMDQdYvLbPMsz22fzKtO+LXd8s59Od6SMnBuemiL3j2cfIJL6QjY9Zxjv6lWBI8kszQdin7WAOwA8GBrejbJs4gT1ZEOG16oY0OX0DkAOi7aA77EU8g1eRkw6+sDYlJTVAEHqV14ugXXjTKhr18Oo2U9CqBOPWp9XqqB+DQTl/uURJ7VCjSmiFPOY5IHPvgI0lTK0dO1lPuOwLLik62DOafn9moZatKShRfNu6aN6e6s/Gc9jh5l8IKNASl92FVFTnY0L982q0n9fGXNynwPDXbPTCXnBe2PR3l3S8kVn6yl011RXccQHasp7JbFLOstEkRn4yviBSjHTrzsMsEQQwGF7ltkNDMmf+ySoNELQ2vqaYrPl+VSeDjP5Lc9YSe15HtYE7a9jN0x/V2s2f6ithOlXNCQ/PzhgL4jkaCrm/cGsnuftI2KoTtrOZZf5dBAhnT/efyYCe9aJBOjxRmw9hPPTKMQv2GDNczCd5GEUE8hnpYO3S13K2PE4YQtihHhtu1SfeJ06s1WU/x9kL0a9i2eKjYmlJJMQooVcq5aSOFzjjnW16TguKZG98Oo0dHJxcrcuCErp7lAfn6E6Rz3aGia9wdo9mCCuJx1agkI0NnpQ517+82SfIDyPCo=
    - secure: rU9/NY343OdcbBR/WrPkBPhTnwSMvD8BwOQpAbAb1ohgQszCBpcJFNlaEcY3dT6wNuM2nqiURsQko+9EIw0rRHEBXh4mXEDIB3AdO6zXPXXKwHyAxk2Im+uy0sqPD1V/sWRcfg+jteEW+1lUi7dAvyEU6ZZsGDawvXu6Ugyom484bT3U2Oj59SW1UNELWBwkT2p0mlOO0YZcGO34oFWhxp52alap/eN2iFr0BmLpNHoV4IBu08fVXN+c0VkW2SBrmMa7rUFaQ2pEezoAL7U5XUmmxtJ0Xje69yQamXnlqCEtS7naxc1jlZcVWJkihKweipVQdx0Sdajzl14jURHYbNIjWv4D9x4KOV3i8L+PMo3wzQnxf4yFdhif47X1QS8kot6IxGId1YDRGY/ZHszRNrMmfGmdiYC9a+P8RPH+a7+FFT8vXTPhVFePwkXhtEDhzNcNQhiUVDKYOvKchLfCuorBjG1iGGX4JYrvBSMIkNOMg+3S968wZOWca8wzWBCgQmFOi3iszSHTky+D76IiTMJHnX+2Dvpbjaxp9tnX+AGUJWg6JYsmO3HYQfb1XRdFDu2XsY6MkeRmXt9tT2x4aZw09gSDIlXR3QJerk3j4zyizhDlLjpCDacntRItuKbPfTZ6ioW69C0gorKoXZ+hJJeE4W1naf7242QDwaA7TRY=

android:
  components:
    - tools
    - platform-tools

before_install:
  - touch $HOME/.android/repositories.cfg
  - yes | sdkmanager "platforms;android-28"
  - yes | sdkmanager "build-tools;28.0.3"
  - sdkmanager "tools" > /dev/null
  - sdkmanager "platform-tools" > /dev/null

before_cache:
  - rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
  - rm -fr $HOME/.gradle/caches/*/plugin-resolution/

cache:
  directories:
    - $HOME/.m2
    - $HOME/.gradle/caches/
    - $HOME/.gradle/wrapper/
    - $HOME/.android/build-cache

script: "./gradlew clean build"

after_success: .utility/initiate-publish.sh

git:
  depth: 9999999